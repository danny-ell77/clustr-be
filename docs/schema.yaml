openapi: 3.0.2
info:
  title: ''
  version: ''
paths:
  /api/v1/roles/:
    get:
      operationId: listRoles
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Role'
          description: ''
      tags:
      - api
    post:
      operationId: createRole
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Role'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Role'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Role'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
      tags:
      - api
  /api/v1/roles/{id}/:
    get:
      operationId: retrieveRole
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
      tags:
      - api
    put:
      operationId: updateRole
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Role'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Role'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Role'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateRole
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Role'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Role'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Role'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Role'
          description: ''
      tags:
      - api
    delete:
      operationId: destroyRole
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      responses:
        '204':
          description: ''
      tags:
      - api
  /api/v1/accounts/:
    get:
      operationId: listAccounts
      description: ''
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/from-auth/:
    get:
      operationId: getAccountInformationFromAuthAccount
      description: 'Endpoint to get the account information by using the data from
        the auth user instead

        of requiring an ID. This is required for frontend as at the time it requests
        to load

        the account information, it doesn''t yet know the account id.'
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/resident-import-template/:
    get:
      operationId: getImportTemplateAccount
      description: Returns an Excel template file to serve as a starter/guide to users
        on the format for import
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/{id}/:
    get:
      operationId: retrieveAccount
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
    put:
      operationId: updateAccount
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
    patch:
      operationId: partialUpdateAccount
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/auth/signin/:
    post:
      operationId: createAuthTokenPair
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthTokenPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AuthTokenPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AuthTokenPair'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthTokenPair'
          description: ''
      tags:
      - api
  /api/v1/auth/signin/refresh/:
    post:
      operationId: createTokenRefresh
      description: 'Takes a refresh type JSON web token and returns an access type
        JSON web

        token if the refresh token is valid.'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
      tags:
      - api
  /api/v1/auth/cluster-signup/:
    post:
      operationId: createCluster
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClusterAdminAccount'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ClusterAdminAccount'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ClusterAdminAccount'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ClusterAdminAccount'
          description: ''
      tags:
      - api
  /api/v1/auth/member-signup/:
    post:
      operationId: createOwnerAccount
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OwnerAccount'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/OwnerAccount'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/OwnerAccount'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OwnerAccount'
          description: ''
      tags:
      - api
  /api/v1/auth/forgot-password/:
    post:
      operationId: createForgotPassword
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema: {}
          application/x-www-form-urlencoded:
            schema: {}
          multipart/form-data:
            schema: {}
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: ''
      tags:
      - api
  /api/v1/auth/reset-password/:
    post:
      operationId: createResetPassword
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema: {}
          application/x-www-form-urlencoded:
            schema: {}
          multipart/form-data:
            schema: {}
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: ''
      tags:
      - api
  /api/v1/auth/token-status/:
    post:
      operationId: createcheck_token_status
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema: {}
          application/x-www-form-urlencoded:
            schema: {}
          multipart/form-data:
            schema: {}
      responses:
        '201':
          content:
            application/json:
              schema: {}
          description: ''
      tags:
      - api
  /api/v1/accounts/add-staff/:
    post:
      operationId: addStaffAccount
      description: 'If the admin edits the permissions for a pre-defined role, the
        permission for that role

        defined in the context of that admin is updated on-click.

        Then the id is submitted with the new user information'
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/add-user/:
    post:
      operationId: addUserAccount
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/change-password/:
    post:
      operationId: changePasswordAccount
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/import-members/:
    post:
      operationId: importMembersAccount
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/email-verification/:
    post:
      operationId: initializeEmailVerificationAccount
      description: ''
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/{id}/approve-account/:
    post:
      operationId: approveResidentAccountAccount
      description: ''
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
  /api/v1/accounts/{id}/change-permissions/:
    post:
      operationId: changePermissionsAccount
      description: 'This API accepts a list of strings defined as codenames for various
        permission classes

        here in the backend. This endpoint changes the permissions completely'
      parameters:
      - name: id
        in: path
        required: true
        description: ''
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Account'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Account'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Account'
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Account'
          description: ''
      tags:
      - api
components:
  schemas:
    Role:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        owner:
          type: string
          readOnly: true
        name:
          type: string
        description:
          type: string
          description: Description of the role.
        total_subusers:
          type: integer
          readOnly: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        last_modified_at:
          type: string
          format: date-time
          readOnly: true
        permissions:
          type: array
          items:
            type: string
      required:
      - name
    Account:
      type: object
      properties:
        email_address:
          type: string
          format: email
          maxLength: 100
        name:
          type: string
          maxLength: 255
        phone_number:
          type: string
          readOnly: true
          description: 'The phone number for this subscription in E.164 format. See
            details: https://www.twilio.com/docs/glossary/what-e164'
        profile_image_url:
          type: string
          format: uri
          description: Profile image of the user.
          maxLength: 200
          pattern: "^(?:[a-z0-9.+-]*)://(?:[^\\s:@/]+(?::[^\\s:@/]*)?@)?(?:(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)(?:\\\
            .(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)){3}|\\[[0-9a-f:.]+\\\
            ]|([a-z\xA1-\uFFFF0-9](?:[a-z\xA1-\uFFFF0-9-]{0,61}[a-z\xA1-\uFFFF0-9])?(?:\\\
            .(?!-)[a-z\xA1-\uFFFF0-9-]{1,63}(?<!-))*\\.(?!-)(?:[a-z\xA1-\uFFFF-]{2,63}|xn--[a-z0-9]{1,59})(?<!-)\\\
            .?|localhost))(?::[0-9]{1,5})?(?:[/?#][^\\s]*)?\\z"
        is_verified:
          type: boolean
          readOnly: true
          description: Has this user completed email verification flow?
      required:
      - email_address
      - name
    AuthTokenPair:
      type: object
      properties:
        email_address:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
      required:
      - email_address
      - password
    TokenRefresh:
      type: object
      properties:
        refresh:
          type: string
        access:
          type: string
          readOnly: true
      required:
      - refresh
    ClusterAdminAccount:
      type: object
      properties:
        type:
          enum:
          - ESTATE
          - FACILITY
          type: string
          description: Cluster type
        name:
          type: string
          description: Cluster name
          maxLength: 255
        description:
          type: string
          description: The Description for the Cluster
        admin:
          type: object
          properties:
            email_address:
              type: string
              format: email
              maxLength: 100
            name:
              type: string
              maxLength: 255
            phone_number:
              type: string
              readOnly: true
              description: 'The phone number for this subscription in E.164 format.
                See details: https://www.twilio.com/docs/glossary/what-e164'
            profile_image_url:
              type: string
              format: uri
              description: Profile image of the user.
              maxLength: 200
              pattern: "^(?:[a-z0-9.+-]*)://(?:[^\\s:@/]+(?::[^\\s:@/]*)?@)?(?:(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)(?:\\\
                .(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)){3}|\\[[0-9a-f:.]+\\\
                ]|([a-z\xA1-\uFFFF0-9](?:[a-z\xA1-\uFFFF0-9-]{0,61}[a-z\xA1-\uFFFF\
                0-9])?(?:\\.(?!-)[a-z\xA1-\uFFFF0-9-]{1,63}(?<!-))*\\.(?!-)(?:[a-z\xA1\
                -\uFFFF-]{2,63}|xn--[a-z0-9]{1,59})(?<!-)\\.?|localhost))(?::[0-9]{1,5})?(?:[/?#][^\\\
                s]*)?\\z"
            is_verified:
              type: boolean
              readOnly: true
              description: Has this user completed email verification flow?
            password:
              type: string
              writeOnly: true
            property_owner:
              type: boolean
              default: false
          required:
          - email_address
          - name
          - password
      required:
      - type
      - name
      - admin
    OwnerAccount:
      type: object
      properties:
        email_address:
          type: string
          format: email
          maxLength: 100
        name:
          type: string
          maxLength: 255
        phone_number:
          type: string
          readOnly: true
          description: 'The phone number for this subscription in E.164 format. See
            details: https://www.twilio.com/docs/glossary/what-e164'
        profile_image_url:
          type: string
          format: uri
          description: Profile image of the user.
          maxLength: 200
          pattern: "^(?:[a-z0-9.+-]*)://(?:[^\\s:@/]+(?::[^\\s:@/]*)?@)?(?:(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)(?:\\\
            .(?:0|25[0-5]|2[0-4][0-9]|1[0-9]?[0-9]?|[1-9][0-9]?)){3}|\\[[0-9a-f:.]+\\\
            ]|([a-z\xA1-\uFFFF0-9](?:[a-z\xA1-\uFFFF0-9-]{0,61}[a-z\xA1-\uFFFF0-9])?(?:\\\
            .(?!-)[a-z\xA1-\uFFFF0-9-]{1,63}(?<!-))*\\.(?!-)(?:[a-z\xA1-\uFFFF-]{2,63}|xn--[a-z0-9]{1,59})(?<!-)\\\
            .?|localhost))(?::[0-9]{1,5})?(?:[/?#][^\\s]*)?\\z"
        is_verified:
          type: boolean
          readOnly: true
          description: Has this user completed email verification flow?
        password:
          type: string
          writeOnly: true
        property_owner:
          type: boolean
          default: false
      required:
      - email_address
      - name
      - password

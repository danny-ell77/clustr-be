# Generated by Django 5.2.4 on 2025-07-30 10:17

import core.common.models.helpdesk.issue
import core.common.models.maintenance.maintenance
import core.common.models.task.task
import datetime
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import uuid
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="Announcement",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Title of the announcement",
                        max_length=200,
                        verbose_name="title",
                    ),
                ),
                (
                    "content",
                    models.TextField(
                        help_text="Content of the announcement",
                        max_length=2000,
                        verbose_name="content",
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("News", "News"),
                            ("Estate Issues", "Estate Issues"),
                            ("Others", "Others"),
                        ],
                        default="News",
                        help_text="Category of the announcement",
                        max_length=20,
                        verbose_name="category",
                    ),
                ),
                (
                    "author_id",
                    models.UUIDField(
                        help_text="ID of the user who created the announcement",
                        verbose_name="author ID",
                    ),
                ),
                (
                    "views_count",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of times this announcement has been viewed",
                        verbose_name="views count",
                    ),
                ),
                (
                    "likes_count",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of likes this announcement has received",
                        verbose_name="likes count",
                    ),
                ),
                (
                    "comments_count",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of comments on this announcement",
                        verbose_name="comments count",
                    ),
                ),
                (
                    "published_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the announcement was published",
                        null=True,
                        verbose_name="published at",
                    ),
                ),
                (
                    "expires_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the announcement expires",
                        null=True,
                        verbose_name="expires at",
                    ),
                ),
                (
                    "is_published",
                    models.BooleanField(
                        default=True,
                        help_text="Whether the announcement is published",
                        verbose_name="is published",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement",
                "verbose_name_plural": "announcements",
                "ordering": ["-published_at", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Cluster",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Name of the cluster",
                        max_length=255,
                        verbose_name="cluster name",
                    ),
                ),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("ESTATE", "Estate"),
                            ("FACILITY", "Facility"),
                            ("COMMERCIAL", "Commercial"),
                            ("MIXED_USE", "Mixed Use"),
                        ],
                        default="ESTATE",
                        help_text="Type of property cluster",
                        max_length=20,
                        verbose_name="cluster type",
                    ),
                ),
                (
                    "address",
                    models.TextField(
                        help_text="Physical address of the cluster",
                        verbose_name="address",
                    ),
                ),
                (
                    "city",
                    models.CharField(
                        help_text="City where the cluster is located",
                        max_length=100,
                        verbose_name="city",
                    ),
                ),
                (
                    "state",
                    models.CharField(
                        help_text="State where the cluster is located",
                        max_length=100,
                        verbose_name="state",
                    ),
                ),
                (
                    "country",
                    models.CharField(
                        help_text="Country where the cluster is located",
                        max_length=100,
                        verbose_name="country",
                    ),
                ),
                (
                    "logo_url",
                    models.URLField(
                        blank=True,
                        help_text="URL to the cluster's logo image",
                        max_length=255,
                        null=True,
                        verbose_name="logo URL",
                    ),
                ),
                (
                    "primary_contact_name",
                    models.CharField(
                        help_text="Name of the primary contact person for the cluster",
                        max_length=255,
                        verbose_name="primary contact name",
                    ),
                ),
                (
                    "primary_contact_email",
                    models.EmailField(
                        help_text="Email address of the primary contact person",
                        max_length=254,
                        verbose_name="primary contact email",
                    ),
                ),
                (
                    "primary_contact_phone",
                    models.CharField(
                        help_text="Phone number of the primary contact person",
                        max_length=20,
                        verbose_name="primary contact phone",
                    ),
                ),
                (
                    "subscription_status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("inactive", "Inactive"),
                            ("trial", "Trial"),
                        ],
                        default="trial",
                        help_text="Current subscription status of the cluster",
                        max_length=20,
                        verbose_name="subscription status",
                    ),
                ),
                (
                    "subscription_expiry",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when the current subscription expires",
                        null=True,
                        verbose_name="subscription expiry",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this cluster is active in the system",
                        verbose_name="is active",
                    ),
                ),
            ],
            options={
                "verbose_name": "cluster",
                "verbose_name_plural": "clusters",
                "ordering": ["name"],
                "indexes": [
                    models.Index(fields=["name"], name="common_clus_name_37d445_idx"),
                    models.Index(fields=["type"], name="common_clus_type_4f4495_idx"),
                    models.Index(fields=["city"], name="common_clus_city_f12572_idx"),
                    models.Index(
                        fields=["subscription_status"],
                        name="common_clus_subscri_7b6e1a_idx",
                    ),
                ],
            },
        ),
        migrations.CreateModel(
            name="Child",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Full name of the child",
                        max_length=100,
                        verbose_name="child name",
                    ),
                ),
                (
                    "date_of_birth",
                    models.DateField(
                        help_text="Date of birth of the child",
                        verbose_name="date of birth",
                    ),
                ),
                (
                    "gender",
                    models.CharField(
                        choices=[("male", "Male"), ("female", "Female")],
                        help_text="Gender of the child",
                        max_length=10,
                        verbose_name="gender",
                    ),
                ),
                (
                    "profile_photo",
                    models.URLField(
                        blank=True,
                        help_text="URL to the child's profile photo",
                        max_length=500,
                        null=True,
                        verbose_name="profile photo",
                    ),
                ),
                (
                    "house_number",
                    models.CharField(
                        help_text="House/unit number where the child lives",
                        max_length=20,
                        verbose_name="house number",
                    ),
                ),
                (
                    "emergency_contacts",
                    models.JSONField(
                        default=list,
                        help_text="List of emergency contact information",
                        verbose_name="emergency contacts",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Whether the child is currently active in the system",
                        verbose_name="is active",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the child",
                        verbose_name="notes",
                    ),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        help_text="Parent or guardian of the child",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="children",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="parent/guardian",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "Child",
                "verbose_name_plural": "Children",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="AnnouncementView",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        help_text="ID of the user who viewed the announcement",
                        verbose_name="user ID",
                    ),
                ),
                (
                    "viewed_at",
                    models.DateTimeField(
                        auto_now_add=True,
                        help_text="When the announcement was viewed",
                        verbose_name="viewed at",
                    ),
                ),
                (
                    "announcement",
                    models.ForeignKey(
                        help_text="The announcement that was viewed",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="views",
                        to="common.announcement",
                        verbose_name="announcement",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement view",
                "verbose_name_plural": "announcement views",
            },
        ),
        migrations.CreateModel(
            name="AnnouncementReadStatus",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        help_text="ID of the user", verbose_name="user ID"
                    ),
                ),
                (
                    "is_read",
                    models.BooleanField(
                        default=False,
                        help_text="Whether the user has read this announcement",
                        verbose_name="is read",
                    ),
                ),
                (
                    "read_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the announcement was marked as read",
                        null=True,
                        verbose_name="read at",
                    ),
                ),
                (
                    "announcement",
                    models.ForeignKey(
                        help_text="The announcement",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="read_statuses",
                        to="common.announcement",
                        verbose_name="announcement",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement read status",
                "verbose_name_plural": "announcement read statuses",
            },
        ),
        migrations.CreateModel(
            name="AnnouncementLike",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        help_text="ID of the user who liked the announcement",
                        verbose_name="user ID",
                    ),
                ),
                (
                    "liked_at",
                    models.DateTimeField(
                        auto_now_add=True,
                        help_text="When the announcement was liked",
                        verbose_name="liked at",
                    ),
                ),
                (
                    "announcement",
                    models.ForeignKey(
                        help_text="The announcement that was liked",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="likes",
                        to="common.announcement",
                        verbose_name="announcement",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement like",
                "verbose_name_plural": "announcement likes",
            },
        ),
        migrations.CreateModel(
            name="AnnouncementComment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "author_id",
                    models.UUIDField(
                        help_text="ID of the user who created the comment",
                        verbose_name="author ID",
                    ),
                ),
                (
                    "content",
                    models.TextField(
                        help_text="Content of the comment",
                        max_length=1000,
                        verbose_name="content",
                    ),
                ),
                (
                    "announcement",
                    models.ForeignKey(
                        help_text="The announcement this comment belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="comments",
                        to="common.announcement",
                        verbose_name="announcement",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement comment",
                "verbose_name_plural": "announcement comments",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="AnnouncementAttachment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "file_name",
                    models.CharField(
                        help_text="Original name of the uploaded file",
                        max_length=255,
                        verbose_name="file name",
                    ),
                ),
                (
                    "file_url",
                    models.URLField(
                        help_text="URL to access the uploaded file",
                        verbose_name="file URL",
                    ),
                ),
                (
                    "file_size",
                    models.PositiveIntegerField(
                        help_text="Size of the file in bytes", verbose_name="file size"
                    ),
                ),
                (
                    "file_type",
                    models.CharField(
                        help_text="MIME type of the file",
                        max_length=100,
                        verbose_name="file type",
                    ),
                ),
                (
                    "is_image",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this attachment is an image",
                        verbose_name="is image",
                    ),
                ),
                (
                    "announcement",
                    models.ForeignKey(
                        help_text="The announcement this attachment belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attachments",
                        to="common.announcement",
                        verbose_name="announcement",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "announcement attachment",
                "verbose_name_plural": "announcement attachments",
                "ordering": ["created_at"],
            },
        ),
        migrations.AddField(
            model_name="announcement",
            name="cluster",
            field=models.ForeignKey(
                help_text="The cluster this object belongs to",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="%(class)ss",
                related_query_name="%(class)s",
                to="common.cluster",
                verbose_name="cluster",
            ),
        ),
        migrations.CreateModel(
            name="EmergencyContact",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Name of the emergency contact",
                        max_length=100,
                        verbose_name="contact name",
                    ),
                ),
                (
                    "phone_number",
                    models.CharField(
                        help_text="Contact phone number",
                        max_length=20,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.",
                                regex="^\\+?1?\\d{9,15}$",
                            )
                        ],
                        verbose_name="phone number",
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True,
                        help_text="Contact email address (optional)",
                        max_length=254,
                        null=True,
                        verbose_name="email address",
                    ),
                ),
                (
                    "emergency_types",
                    models.JSONField(
                        default=list,
                        help_text="List of emergency types this contact handles",
                        verbose_name="emergency types",
                    ),
                ),
                (
                    "contact_type",
                    models.CharField(
                        choices=[
                            ("personal", "Personal Contact"),
                            ("estate_wide", "Estate-wide Contact"),
                            ("official", "Official Emergency Service"),
                        ],
                        default="personal",
                        help_text="Type of emergency contact",
                        max_length=20,
                        verbose_name="contact type",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this contact is active and should receive alerts",
                        verbose_name="is active",
                    ),
                ),
                (
                    "is_primary",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this is a primary contact for the emergency types",
                        verbose_name="is primary",
                    ),
                ),
                (
                    "response_time_minutes",
                    models.PositiveIntegerField(
                        blank=True,
                        help_text="Expected response time in minutes",
                        null=True,
                        verbose_name="expected response time",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about this contact",
                        verbose_name="notes",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who owns this contact (null for estate-wide contacts)",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="emergency_contacts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="user",
                    ),
                ),
            ],
            options={
                "verbose_name": "Emergency Contact",
                "verbose_name_plural": "Emergency Contacts",
                "ordering": ["-is_primary", "name"],
            },
        ),
        migrations.CreateModel(
            name="Event",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Title of the event",
                        max_length=255,
                        verbose_name="title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Detailed description of the event",
                        null=True,
                        verbose_name="description",
                    ),
                ),
                (
                    "event_date",
                    models.DateField(
                        help_text="Date of the event", verbose_name="event date"
                    ),
                ),
                (
                    "event_time",
                    models.TimeField(
                        help_text="Start time of the event", verbose_name="event time"
                    ),
                ),
                (
                    "end_time",
                    models.TimeField(
                        blank=True,
                        help_text="End time of the event",
                        null=True,
                        verbose_name="end time",
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        help_text="Location of the event",
                        max_length=255,
                        verbose_name="location",
                    ),
                ),
                (
                    "access_code",
                    models.CharField(
                        help_text="Unique access code for the event",
                        max_length=10,
                        unique=True,
                        verbose_name="access code",
                    ),
                ),
                (
                    "max_guests",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Maximum number of guests allowed (0 for unlimited)",
                        verbose_name="maximum guests",
                    ),
                ),
                (
                    "guests_added",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of guests added to the event",
                        verbose_name="guests added",
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="ID of the user who created this event",
                        verbose_name="created by",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("PUBLISHED", "Published"),
                            ("CANCELLED", "Cancelled"),
                            ("COMPLETED", "Completed"),
                        ],
                        default="DRAFT",
                        help_text="Current status of the event",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "is_public",
                    models.BooleanField(
                        default=False,
                        help_text="Whether the event is public or private",
                        verbose_name="is public",
                    ),
                ),
                (
                    "requires_approval",
                    models.BooleanField(
                        default=False,
                        help_text="Whether guests require approval to attend",
                        verbose_name="requires approval",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "event",
                "verbose_name_plural": "events",
                "ordering": ["-event_date", "-event_time"],
            },
        ),
        migrations.CreateModel(
            name="EventGuest",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Name of the guest",
                        max_length=255,
                        verbose_name="guest name",
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True,
                        help_text="Email address of the guest",
                        max_length=254,
                        null=True,
                        verbose_name="email address",
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        blank=True,
                        help_text="Phone number of the guest",
                        max_length=20,
                        null=True,
                        verbose_name="phone number",
                    ),
                ),
                (
                    "access_code",
                    models.CharField(
                        help_text="Unique access code for the guest",
                        max_length=10,
                        unique=True,
                        verbose_name="access code",
                    ),
                ),
                (
                    "invited_by",
                    models.UUIDField(
                        help_text="ID of the user who invited this guest",
                        verbose_name="invited by",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("INVITED", "Invited"),
                            ("CONFIRMED", "Confirmed"),
                            ("DECLINED", "Declined"),
                            ("ATTENDED", "Attended"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="INVITED",
                        help_text="Current status of the guest",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the guest",
                        null=True,
                        verbose_name="notes",
                    ),
                ),
                (
                    "check_in_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Time when the guest checked in",
                        null=True,
                        verbose_name="check-in time",
                    ),
                ),
                (
                    "check_out_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Time when the guest checked out",
                        null=True,
                        verbose_name="check-out time",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "event",
                    models.ForeignKey(
                        help_text="The event this guest is invited to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="guests",
                        to="common.event",
                        verbose_name="event",
                    ),
                ),
            ],
            options={
                "verbose_name": "event guest",
                "verbose_name_plural": "event guests",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="ExitRequest",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "request_id",
                    models.CharField(
                        help_text="Unique identifier for the exit request",
                        max_length=20,
                        unique=True,
                        verbose_name="request ID",
                    ),
                ),
                (
                    "reason",
                    models.TextField(
                        help_text="Reason for the child's exit",
                        verbose_name="reason for exit",
                    ),
                ),
                (
                    "expected_return_time",
                    models.DateTimeField(
                        help_text="Expected time for the child to return",
                        verbose_name="expected return time",
                    ),
                ),
                (
                    "destination",
                    models.CharField(
                        blank=True,
                        help_text="Where the child is going",
                        max_length=200,
                        verbose_name="destination",
                    ),
                ),
                (
                    "accompanying_adult",
                    models.CharField(
                        blank=True,
                        help_text="Name of the adult accompanying the child",
                        max_length=100,
                        verbose_name="accompanying adult",
                    ),
                ),
                (
                    "accompanying_adult_phone",
                    models.CharField(
                        blank=True,
                        help_text="Phone number of the accompanying adult",
                        max_length=20,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be entered in the format: '+999999999'. Up to 15 digits allowed.",
                                regex="^\\+?1?\\d{9,15}$",
                            )
                        ],
                        verbose_name="accompanying adult phone",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("approved", "Approved"),
                            ("denied", "Denied"),
                            ("expired", "Expired"),
                        ],
                        default="pending",
                        help_text="Current status of the exit request",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the exit request was approved",
                        null=True,
                        verbose_name="approved at",
                    ),
                ),
                (
                    "denied_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the exit request was denied",
                        null=True,
                        verbose_name="denied at",
                    ),
                ),
                (
                    "denial_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for denying the exit request",
                        verbose_name="denial reason",
                    ),
                ),
                (
                    "expires_at",
                    models.DateTimeField(
                        help_text="When the exit request expires",
                        verbose_name="expires at",
                    ),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who approved the exit request",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_exit_requests",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="approved by",
                    ),
                ),
                (
                    "child",
                    models.ForeignKey(
                        help_text="The child this exit request is for",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="exit_requests",
                        to="common.child",
                        verbose_name="child",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "denied_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who denied the exit request",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="denied_exit_requests",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="denied by",
                    ),
                ),
                (
                    "requested_by",
                    models.ForeignKey(
                        help_text="User who requested the exit",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="child_exit_requests",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="requested by",
                    ),
                ),
            ],
            options={
                "verbose_name": "Exit Request",
                "verbose_name_plural": "Exit Requests",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="EntryExitLog",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "log_type",
                    models.CharField(
                        choices=[("exit", "Exit"), ("entry", "Entry")],
                        help_text="Type of log entry",
                        max_length=10,
                        verbose_name="log type",
                    ),
                ),
                (
                    "date",
                    models.DateField(
                        help_text="Date of the entry/exit", verbose_name="date"
                    ),
                ),
                (
                    "exit_time",
                    models.TimeField(
                        blank=True,
                        help_text="Time when the child exited",
                        null=True,
                        verbose_name="exit time",
                    ),
                ),
                (
                    "entry_time",
                    models.TimeField(
                        blank=True,
                        help_text="Time when the child returned",
                        null=True,
                        verbose_name="entry time",
                    ),
                ),
                (
                    "expected_return_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Expected time for the child to return",
                        null=True,
                        verbose_name="expected return time",
                    ),
                ),
                (
                    "actual_return_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual time when the child returned",
                        null=True,
                        verbose_name="actual return time",
                    ),
                ),
                (
                    "reason",
                    models.TextField(
                        help_text="Reason for the exit", verbose_name="reason"
                    ),
                ),
                (
                    "destination",
                    models.CharField(
                        blank=True,
                        help_text="Where the child went",
                        max_length=200,
                        verbose_name="destination",
                    ),
                ),
                (
                    "accompanying_adult",
                    models.CharField(
                        blank=True,
                        help_text="Name of the adult accompanying the child",
                        max_length=100,
                        verbose_name="accompanying adult",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("scheduled", "Scheduled"),
                            ("in_progress", "In Progress"),
                            ("completed", "Completed"),
                            ("overdue", "Overdue"),
                        ],
                        default="scheduled",
                        help_text="Current status of the entry/exit",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the entry/exit",
                        verbose_name="notes",
                    ),
                ),
                (
                    "child",
                    models.ForeignKey(
                        help_text="The child this log entry is for",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="entry_exit_logs",
                        to="common.child",
                        verbose_name="child",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "verified_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Security personnel who verified the exit/entry",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="verified_child_logs",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="verified by",
                    ),
                ),
                (
                    "exit_request",
                    models.ForeignKey(
                        blank=True,
                        help_text="The exit request associated with this log",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="logs",
                        to="common.exitrequest",
                        verbose_name="exit request",
                    ),
                ),
            ],
            options={
                "verbose_name": "Entry/Exit Log",
                "verbose_name_plural": "Entry/Exit Logs",
                "ordering": ["-date", "-exit_time"],
            },
        ),
        migrations.CreateModel(
            name="IssueTicket",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "issue_no",
                    models.CharField(
                        default=core.common.models.helpdesk.issue.generate_issue_number,
                        help_text="Unique issue number for tracking",
                        max_length=20,
                        unique=True,
                        verbose_name="issue number",
                    ),
                ),
                (
                    "issue_type",
                    models.CharField(
                        choices=[
                            ("CARPENTRY", "Carpentry"),
                            ("PLUMBING", "Plumbing"),
                            ("ELECTRICAL", "Electrical"),
                            ("CLEANING", "Cleaning"),
                            ("SECURITY", "Security"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of issue being reported",
                        max_length=20,
                        verbose_name="issue type",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Brief title describing the issue",
                        max_length=200,
                        verbose_name="title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Detailed description of the issue",
                        verbose_name="description",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("OPEN", "Open"),
                            ("IN_PROGRESS", "In Progress"),
                            ("PENDING", "Pending"),
                            ("RESOLVED", "Resolved"),
                            ("CLOSED", "Closed"),
                        ],
                        default="SUBMITTED",
                        help_text="Current status of the issue",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("URGENT", "Urgent"),
                        ],
                        default="MEDIUM",
                        help_text="Priority level of the issue",
                        max_length=10,
                        verbose_name="priority",
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when the issue was resolved",
                        null=True,
                        verbose_name="resolved at",
                    ),
                ),
                (
                    "closed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when the issue was closed",
                        null=True,
                        verbose_name="closed at",
                    ),
                ),
                (
                    "escalated_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when the issue was escalated",
                        null=True,
                        verbose_name="escalated at",
                    ),
                ),
                (
                    "due_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Expected resolution date",
                        null=True,
                        verbose_name="due date",
                    ),
                ),
                (
                    "resolution_notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about how the issue was resolved",
                        verbose_name="resolution notes",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member assigned to handle the issue",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_issues",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned to",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "reported_by",
                    models.ForeignKey(
                        help_text="User who reported the issue",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="reported_issues",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="reported by",
                    ),
                ),
            ],
            options={
                "verbose_name": "issue ticket",
                "verbose_name_plural": "issue tickets",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="IssueStatusHistory",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "from_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("OPEN", "Open"),
                            ("IN_PROGRESS", "In Progress"),
                            ("PENDING", "Pending"),
                            ("RESOLVED", "Resolved"),
                            ("CLOSED", "Closed"),
                        ],
                        help_text="Previous status",
                        max_length=20,
                        null=True,
                        verbose_name="from status",
                    ),
                ),
                (
                    "to_status",
                    models.CharField(
                        choices=[
                            ("SUBMITTED", "Submitted"),
                            ("OPEN", "Open"),
                            ("IN_PROGRESS", "In Progress"),
                            ("PENDING", "Pending"),
                            ("RESOLVED", "Resolved"),
                            ("CLOSED", "Closed"),
                        ],
                        help_text="New status",
                        max_length=20,
                        verbose_name="to status",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about the status change",
                        verbose_name="notes",
                    ),
                ),
                (
                    "changed_by",
                    models.ForeignKey(
                        help_text="User who changed the status",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="issue_status_changes",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="changed by",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "issue",
                    models.ForeignKey(
                        help_text="The issue this status change belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="status_history",
                        to="common.issueticket",
                        verbose_name="issue",
                    ),
                ),
            ],
            options={
                "verbose_name": "issue status history",
                "verbose_name_plural": "issue status histories",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="IssueComment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "content",
                    models.TextField(
                        help_text="Content of the comment", verbose_name="content"
                    ),
                ),
                (
                    "is_internal",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this comment is internal (staff only)",
                        verbose_name="is internal",
                    ),
                ),
                (
                    "author",
                    models.ForeignKey(
                        help_text="User who wrote the comment",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="issue_comments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="author",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        help_text="Parent comment for threaded discussions",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="replies",
                        to="common.issuecomment",
                        verbose_name="parent comment",
                    ),
                ),
                (
                    "issue",
                    models.ForeignKey(
                        help_text="The issue this comment belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="comments",
                        to="common.issueticket",
                        verbose_name="issue",
                    ),
                ),
            ],
            options={
                "verbose_name": "issue comment",
                "verbose_name_plural": "issue comments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="IssueAttachment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "file_name",
                    models.CharField(
                        help_text="Original name of the uploaded file",
                        max_length=255,
                        verbose_name="file name",
                    ),
                ),
                (
                    "file_url",
                    models.URLField(
                        help_text="URL to access the uploaded file",
                        verbose_name="file URL",
                    ),
                ),
                (
                    "file_size",
                    models.PositiveIntegerField(
                        help_text="Size of the file in bytes", verbose_name="file size"
                    ),
                ),
                (
                    "file_type",
                    models.CharField(
                        help_text="MIME type of the file",
                        max_length=100,
                        verbose_name="file type",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        help_text="User who uploaded the file",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="issue_attachments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="uploaded by",
                    ),
                ),
                (
                    "comment",
                    models.ForeignKey(
                        blank=True,
                        help_text="The comment this attachment belongs to",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attachments",
                        to="common.issuecomment",
                        verbose_name="comment",
                    ),
                ),
                (
                    "issue",
                    models.ForeignKey(
                        blank=True,
                        help_text="The issue this attachment belongs to",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attachments",
                        to="common.issueticket",
                        verbose_name="issue",
                    ),
                ),
            ],
            options={
                "verbose_name": "issue attachment",
                "verbose_name_plural": "issue attachments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="MaintenanceLog",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "maintenance_number",
                    models.CharField(
                        default=core.common.models.maintenance.maintenance.generate_maintenance_number,
                        help_text="Unique maintenance number for tracking",
                        max_length=20,
                        unique=True,
                        verbose_name="maintenance number",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Brief title describing the maintenance activity",
                        max_length=200,
                        verbose_name="maintenance title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Detailed description of the maintenance work performed",
                        verbose_name="description",
                    ),
                ),
                (
                    "maintenance_type",
                    models.CharField(
                        choices=[
                            ("PREVENTIVE", "Preventive"),
                            ("CORRECTIVE", "Corrective"),
                            ("EMERGENCY", "Emergency"),
                            ("ROUTINE", "Routine"),
                            ("INSPECTION", "Inspection"),
                            ("UPGRADE", "Upgrade"),
                            ("OTHER", "Other"),
                        ],
                        default="ROUTINE",
                        help_text="Type of maintenance activity",
                        max_length=20,
                        verbose_name="maintenance type",
                    ),
                ),
                (
                    "property_type",
                    models.CharField(
                        choices=[
                            ("BUILDING", "Building"),
                            ("ELECTRICAL", "Electrical"),
                            ("PLUMBING", "Plumbing"),
                            ("HVAC", "HVAC"),
                            ("SECURITY", "Security"),
                            ("LANDSCAPING", "Landscaping"),
                            ("EQUIPMENT", "Equipment"),
                            ("INFRASTRUCTURE", "Infrastructure"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of property or equipment maintained",
                        max_length=20,
                        verbose_name="property type",
                    ),
                ),
                (
                    "property_location",
                    models.CharField(
                        help_text="Specific location of the property or equipment",
                        max_length=200,
                        verbose_name="property location",
                    ),
                ),
                (
                    "equipment_name",
                    models.CharField(
                        blank=True,
                        help_text="Name or model of the equipment (if applicable)",
                        max_length=200,
                        verbose_name="equipment name",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("URGENT", "Urgent"),
                        ],
                        default="MEDIUM",
                        help_text="Priority level of the maintenance",
                        max_length=10,
                        verbose_name="priority",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("POSTPONED", "Postponed"),
                        ],
                        default="SCHEDULED",
                        help_text="Current status of the maintenance",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "scheduled_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Scheduled date and time for the maintenance",
                        null=True,
                        verbose_name="scheduled date",
                    ),
                ),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when maintenance was started",
                        null=True,
                        verbose_name="started at",
                    ),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when maintenance was completed",
                        null=True,
                        verbose_name="completed at",
                    ),
                ),
                (
                    "estimated_duration",
                    models.DurationField(
                        blank=True,
                        help_text="Estimated time to complete the maintenance",
                        null=True,
                        verbose_name="estimated duration",
                    ),
                ),
                (
                    "actual_duration",
                    models.DurationField(
                        blank=True,
                        help_text="Actual time spent on the maintenance",
                        null=True,
                        verbose_name="actual duration",
                    ),
                ),
                (
                    "cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Total cost of the maintenance",
                        max_digits=10,
                        null=True,
                        verbose_name="cost",
                    ),
                ),
                (
                    "materials_used",
                    models.TextField(
                        blank=True,
                        help_text="List of materials and parts used",
                        verbose_name="materials used",
                    ),
                ),
                (
                    "tools_used",
                    models.TextField(
                        blank=True,
                        help_text="List of tools and equipment used",
                        verbose_name="tools used",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the maintenance",
                        verbose_name="notes",
                    ),
                ),
                (
                    "completion_notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about maintenance completion and results",
                        verbose_name="completion notes",
                    ),
                ),
                (
                    "next_maintenance_due",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the next maintenance is due for this item",
                        null=True,
                        verbose_name="next maintenance due",
                    ),
                ),
                (
                    "warranty_expiry",
                    models.DateField(
                        blank=True,
                        help_text="Warranty expiry date for the equipment",
                        null=True,
                        verbose_name="warranty expiry",
                    ),
                ),
                (
                    "is_under_warranty",
                    models.BooleanField(
                        default=False,
                        help_text="Whether the equipment is still under warranty",
                        verbose_name="is under warranty",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "performed_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member who performed the maintenance",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="performed_maintenance",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="performed by",
                    ),
                ),
                (
                    "requested_by",
                    models.ForeignKey(
                        help_text="User who requested the maintenance",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="requested_maintenance",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="requested by",
                    ),
                ),
                (
                    "supervised_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member who supervised the maintenance",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="supervised_maintenance",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="supervised by",
                    ),
                ),
            ],
            options={
                "verbose_name": "maintenance log",
                "verbose_name_plural": "maintenance logs",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="MaintenanceCost",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("LABOR", "Labor"),
                            ("MATERIALS", "Materials"),
                            ("EQUIPMENT", "Equipment"),
                            ("CONTRACTOR", "Contractor"),
                            ("PERMITS", "Permits"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Category of the cost",
                        max_length=50,
                        verbose_name="cost category",
                    ),
                ),
                (
                    "description",
                    models.CharField(
                        help_text="Description of the cost item",
                        max_length=200,
                        verbose_name="description",
                    ),
                ),
                (
                    "quantity",
                    models.DecimalField(
                        decimal_places=2,
                        default=1,
                        help_text="Quantity of the item",
                        max_digits=10,
                        verbose_name="quantity",
                    ),
                ),
                (
                    "unit_cost",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Cost per unit",
                        max_digits=10,
                        verbose_name="unit cost",
                    ),
                ),
                (
                    "total_cost",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Total cost (quantity  unit cost)",
                        max_digits=10,
                        verbose_name="total cost",
                    ),
                ),
                (
                    "vendor",
                    models.CharField(
                        blank=True,
                        help_text="Vendor or supplier name",
                        max_length=200,
                        verbose_name="vendor",
                    ),
                ),
                (
                    "receipt_number",
                    models.CharField(
                        blank=True,
                        help_text="Receipt or invoice number",
                        max_length=100,
                        verbose_name="receipt number",
                    ),
                ),
                (
                    "date_incurred",
                    models.DateField(
                        default=django.utils.timezone.now,
                        help_text="Date when the cost was incurred",
                        verbose_name="date incurred",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "maintenance_log",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="cost_breakdown",
                        to="common.maintenancelog",
                        verbose_name="maintenance log",
                    ),
                ),
            ],
            options={
                "verbose_name": "maintenance cost",
                "verbose_name_plural": "maintenance costs",
                "ordering": ["date_incurred"],
            },
        ),
        migrations.CreateModel(
            name="MaintenanceComment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "content",
                    models.TextField(
                        help_text="Content of the comment", verbose_name="content"
                    ),
                ),
                (
                    "is_internal",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this comment is internal (staff only)",
                        verbose_name="is internal",
                    ),
                ),
                (
                    "author",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="maintenance_comments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="author",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="replies",
                        to="common.maintenancecomment",
                        verbose_name="parent comment",
                    ),
                ),
                (
                    "maintenance_log",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="comments",
                        to="common.maintenancelog",
                        verbose_name="maintenance log",
                    ),
                ),
            ],
            options={
                "verbose_name": "maintenance comment",
                "verbose_name_plural": "maintenance comments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="MaintenanceAttachment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "file_name",
                    models.CharField(
                        help_text="Original name of the uploaded file",
                        max_length=255,
                        verbose_name="file name",
                    ),
                ),
                (
                    "file_url",
                    models.URLField(
                        help_text="URL to access the uploaded file",
                        verbose_name="file URL",
                    ),
                ),
                (
                    "file_size",
                    models.PositiveIntegerField(
                        help_text="Size of the file in bytes", verbose_name="file size"
                    ),
                ),
                (
                    "file_type",
                    models.CharField(
                        help_text="MIME type of the file",
                        max_length=100,
                        verbose_name="file type",
                    ),
                ),
                (
                    "attachment_type",
                    models.CharField(
                        choices=[
                            ("BEFORE", "Before Photo"),
                            ("DURING", "During Work"),
                            ("AFTER", "After Photo"),
                            ("RECEIPT", "Receipt"),
                            ("MANUAL", "Manual"),
                            ("DIAGRAM", "Diagram"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of attachment",
                        max_length=20,
                        verbose_name="attachment type",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Description of the attachment",
                        verbose_name="description",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="maintenance_attachments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="uploaded by",
                    ),
                ),
                (
                    "maintenance_log",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attachments",
                        to="common.maintenancelog",
                        verbose_name="maintenance log",
                    ),
                ),
            ],
            options={
                "verbose_name": "maintenance attachment",
                "verbose_name_plural": "maintenance attachments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="MaintenanceSchedule",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Name of the maintenance schedule",
                        max_length=200,
                        verbose_name="schedule name",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Description of the scheduled maintenance",
                        verbose_name="description",
                    ),
                ),
                (
                    "property_type",
                    models.CharField(
                        choices=[
                            ("BUILDING", "Building"),
                            ("ELECTRICAL", "Electrical"),
                            ("PLUMBING", "Plumbing"),
                            ("HVAC", "HVAC"),
                            ("SECURITY", "Security"),
                            ("LANDSCAPING", "Landscaping"),
                            ("EQUIPMENT", "Equipment"),
                            ("INFRASTRUCTURE", "Infrastructure"),
                            ("OTHER", "Other"),
                        ],
                        help_text="Type of property or equipment",
                        max_length=20,
                        verbose_name="property type",
                    ),
                ),
                (
                    "property_location",
                    models.CharField(
                        help_text="Specific location of the property or equipment",
                        max_length=200,
                        verbose_name="property location",
                    ),
                ),
                (
                    "equipment_name",
                    models.CharField(
                        blank=True,
                        help_text="Name or model of the equipment (if applicable)",
                        max_length=200,
                        verbose_name="equipment name",
                    ),
                ),
                (
                    "frequency_type",
                    models.CharField(
                        choices=[
                            ("DAILY", "Daily"),
                            ("WEEKLY", "Weekly"),
                            ("MONTHLY", "Monthly"),
                            ("QUARTERLY", "Quarterly"),
                            ("SEMI_ANNUAL", "Semi-Annual"),
                            ("ANNUAL", "Annual"),
                            ("CUSTOM", "Custom"),
                        ],
                        default="MONTHLY",
                        help_text="How often the maintenance should be performed",
                        max_length=20,
                        verbose_name="frequency type",
                    ),
                ),
                (
                    "frequency_value",
                    models.PositiveIntegerField(
                        default=1,
                        help_text="Numeric value for custom frequency (e.g., every 3 months)",
                        verbose_name="frequency value",
                    ),
                ),
                (
                    "next_due_date",
                    models.DateTimeField(
                        help_text="When the next maintenance is due",
                        verbose_name="next due date",
                    ),
                ),
                (
                    "estimated_duration",
                    models.DurationField(
                        blank=True,
                        help_text="Estimated time to complete the maintenance",
                        null=True,
                        verbose_name="estimated duration",
                    ),
                ),
                (
                    "estimated_cost",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated cost of the maintenance",
                        max_digits=10,
                        null=True,
                        verbose_name="estimated cost",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this schedule is active",
                        verbose_name="is active",
                    ),
                ),
                (
                    "instructions",
                    models.TextField(
                        blank=True,
                        help_text="Instructions for performing the maintenance",
                        verbose_name="instructions",
                    ),
                ),
                (
                    "materials_needed",
                    models.TextField(
                        blank=True,
                        help_text="List of materials typically needed",
                        verbose_name="materials needed",
                    ),
                ),
                (
                    "tools_needed",
                    models.TextField(
                        blank=True,
                        help_text="List of tools typically needed",
                        verbose_name="tools needed",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member assigned to this maintenance",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_maintenance_schedules",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned to",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "maintenance schedule",
                "verbose_name_plural": "maintenance schedules",
                "ordering": ["next_due_date"],
            },
        ),
        migrations.CreateModel(
            name="Shift",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Title or description of the shift",
                        max_length=200,
                        verbose_name="shift title",
                    ),
                ),
                (
                    "shift_type",
                    models.CharField(
                        choices=[
                            ("SECURITY", "Security"),
                            ("MAINTENANCE", "Maintenance"),
                            ("CLEANING", "Cleaning"),
                            ("RECEPTION", "Reception"),
                            ("GARDENING", "Gardening"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of work shift",
                        max_length=20,
                        verbose_name="shift type",
                    ),
                ),
                (
                    "start_time",
                    models.DateTimeField(
                        help_text="Scheduled start time of the shift",
                        verbose_name="start time",
                    ),
                ),
                (
                    "end_time",
                    models.DateTimeField(
                        help_text="Scheduled end time of the shift",
                        verbose_name="end time",
                    ),
                ),
                (
                    "actual_start_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual time the staff clocked in",
                        null=True,
                        verbose_name="actual start time",
                    ),
                ),
                (
                    "actual_end_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual time the staff clocked out",
                        null=True,
                        verbose_name="actual end time",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("NO_SHOW", "No Show"),
                        ],
                        default="SCHEDULED",
                        help_text="Current status of the shift",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        blank=True,
                        help_text="Location where the shift takes place",
                        max_length=200,
                        verbose_name="location",
                    ),
                ),
                (
                    "responsibilities",
                    models.TextField(
                        blank=True,
                        help_text="Description of responsibilities for this shift",
                        verbose_name="responsibilities",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the shift",
                        verbose_name="notes",
                    ),
                ),
                (
                    "is_recurring",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this shift repeats",
                        verbose_name="is recurring",
                    ),
                ),
                (
                    "recurrence_pattern",
                    models.CharField(
                        blank=True,
                        help_text="Pattern for recurring shifts (daily, weekly, monthly)",
                        max_length=50,
                        verbose_name="recurrence pattern",
                    ),
                ),
                (
                    "assigned_staff",
                    models.ForeignKey(
                        help_text="Staff member assigned to this shift",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assigned_shifts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned staff",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "shift",
                "verbose_name_plural": "shifts",
                "ordering": ["-start_time"],
            },
        ),
        migrations.CreateModel(
            name="ShiftAttendance",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "clock_in_time",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="clock in time"
                    ),
                ),
                (
                    "clock_out_time",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="clock out time"
                    ),
                ),
                (
                    "break_start_time",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="break start time"
                    ),
                ),
                (
                    "break_end_time",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="break end time"
                    ),
                ),
                (
                    "total_break_duration",
                    models.DurationField(
                        default=datetime.timedelta(0),
                        help_text="Total time spent on breaks",
                        verbose_name="total break duration",
                    ),
                ),
                (
                    "overtime_hours",
                    models.DurationField(
                        default=datetime.timedelta(0),
                        help_text="Hours worked beyond scheduled time",
                        verbose_name="overtime hours",
                    ),
                ),
                (
                    "late_arrival_minutes",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Minutes late for shift start",
                        verbose_name="late arrival minutes",
                    ),
                ),
                (
                    "early_departure_minutes",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Minutes left before shift end",
                        verbose_name="early departure minutes",
                    ),
                ),
                (
                    "attendance_notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about attendance issues or special circumstances",
                        verbose_name="attendance notes",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "shift",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attendance",
                        to="common.shift",
                        verbose_name="shift",
                    ),
                ),
            ],
            options={
                "verbose_name": "shift attendance",
                "verbose_name_plural": "shift attendances",
            },
        ),
        migrations.CreateModel(
            name="ShiftSwapRequest",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "reason",
                    models.TextField(
                        help_text="Reason for the swap request", verbose_name="reason"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="PENDING",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="approved at"
                    ),
                ),
                (
                    "response_message",
                    models.TextField(
                        blank=True,
                        help_text="Response message from the other staff member or admin",
                        verbose_name="response message",
                    ),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_shift_swaps",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="approved by",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "original_shift",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="swap_requests_as_original",
                        to="common.shift",
                        verbose_name="original shift",
                    ),
                ),
                (
                    "requested_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="shift_swap_requests",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="requested by",
                    ),
                ),
                (
                    "requested_with",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="shift_swap_offers",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="requested with",
                    ),
                ),
                (
                    "target_shift",
                    models.ForeignKey(
                        blank=True,
                        help_text="The shift to swap with (optional for coverage requests)",
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="swap_requests_as_target",
                        to="common.shift",
                        verbose_name="target shift",
                    ),
                ),
            ],
            options={
                "verbose_name": "shift swap request",
                "verbose_name_plural": "shift swap requests",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="SOSAlert",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "alert_id",
                    models.CharField(
                        help_text="Unique identifier for the alert",
                        max_length=20,
                        unique=True,
                        verbose_name="alert ID",
                    ),
                ),
                (
                    "emergency_type",
                    models.CharField(
                        choices=[
                            ("health", "Health Emergency"),
                            ("theft", "Theft/Robbery"),
                            ("domestic_violence", "Domestic Violence"),
                            ("fire", "Fire Emergency"),
                            ("security", "Security Issue"),
                            ("accident", "Accident"),
                            ("other", "Other"),
                        ],
                        help_text="Type of emergency",
                        max_length=20,
                        verbose_name="emergency type",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Optional description of the emergency",
                        verbose_name="description",
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        blank=True,
                        help_text="Location of the emergency",
                        max_length=200,
                        verbose_name="location",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("acknowledged", "Acknowledged"),
                            ("responding", "Responding"),
                            ("resolved", "Resolved"),
                            ("cancelled", "Cancelled"),
                            ("false_alarm", "False Alarm"),
                        ],
                        default="active",
                        help_text="Current status of the alert",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        default="high",
                        help_text="Priority level of the alert",
                        max_length=10,
                        verbose_name="priority",
                    ),
                ),
                (
                    "acknowledged_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the alert was acknowledged",
                        null=True,
                        verbose_name="acknowledged at",
                    ),
                ),
                (
                    "responded_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When response began",
                        null=True,
                        verbose_name="responded at",
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the alert was resolved",
                        null=True,
                        verbose_name="resolved at",
                    ),
                ),
                (
                    "resolution_notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about the resolution",
                        verbose_name="resolution notes",
                    ),
                ),
                (
                    "cancelled_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="When the alert was cancelled",
                        null=True,
                        verbose_name="cancelled at",
                    ),
                ),
                (
                    "cancellation_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for cancellation",
                        verbose_name="cancellation reason",
                    ),
                ),
                (
                    "acknowledged_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who acknowledged the alert",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="acknowledged_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="acknowledged by",
                    ),
                ),
                (
                    "cancelled_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who cancelled the alert",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="cancelled_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="cancelled by",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "resolved_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who resolved the alert",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="resolved_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="resolved by",
                    ),
                ),
                (
                    "responded_by",
                    models.ForeignKey(
                        blank=True,
                        help_text="User who responded to the alert",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="responded_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="responded by",
                    ),
                ),
                (
                    "user",
                    models.ForeignKey(
                        help_text="User who triggered the alert",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="sos_alerts",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="user",
                    ),
                ),
            ],
            options={
                "verbose_name": "SOS Alert",
                "verbose_name_plural": "SOS Alerts",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="EmergencyResponse",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "response_type",
                    models.CharField(
                        choices=[
                            ("acknowledged", "Acknowledged"),
                            ("dispatched", "Dispatched"),
                            ("on_scene", "On Scene"),
                            ("resolved", "Resolved"),
                            ("cancelled", "Cancelled"),
                        ],
                        help_text="Type of response",
                        max_length=20,
                        verbose_name="response type",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True, help_text="Response notes", verbose_name="notes"
                    ),
                ),
                (
                    "estimated_arrival",
                    models.DateTimeField(
                        blank=True,
                        help_text="Estimated arrival time",
                        null=True,
                        verbose_name="estimated arrival",
                    ),
                ),
                (
                    "actual_arrival",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual arrival time",
                        null=True,
                        verbose_name="actual arrival",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "responder",
                    models.ForeignKey(
                        help_text="User who responded",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="emergency_responses",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="responder",
                    ),
                ),
                (
                    "alert",
                    models.ForeignKey(
                        help_text="The alert this response is for",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="responses",
                        to="common.sosalert",
                        verbose_name="alert",
                    ),
                ),
            ],
            options={
                "verbose_name": "Emergency Response",
                "verbose_name_plural": "Emergency Responses",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Task",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "task_number",
                    models.CharField(
                        default=core.common.models.task.task.generate_task_number,
                        help_text="Unique task number for tracking",
                        max_length=20,
                        unique=True,
                        verbose_name="task number",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Brief title describing the task",
                        max_length=200,
                        verbose_name="task title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Detailed description of the task",
                        verbose_name="description",
                    ),
                ),
                (
                    "task_type",
                    models.CharField(
                        choices=[
                            ("MAINTENANCE", "Maintenance"),
                            ("SECURITY", "Security"),
                            ("CLEANING", "Cleaning"),
                            ("ADMINISTRATIVE", "Administrative"),
                            ("INSPECTION", "Inspection"),
                            ("REPAIR", "Repair"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of task",
                        max_length=20,
                        verbose_name="task type",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("LOW", "Low"),
                            ("MEDIUM", "Medium"),
                            ("HIGH", "High"),
                            ("URGENT", "Urgent"),
                        ],
                        default="MEDIUM",
                        help_text="Priority level of the task",
                        max_length=10,
                        verbose_name="priority",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("OVERDUE", "Overdue"),
                        ],
                        default="PENDING",
                        help_text="Current status of the task",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "due_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Expected completion date",
                        null=True,
                        verbose_name="due date",
                    ),
                ),
                (
                    "started_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when task was started",
                        null=True,
                        verbose_name="started at",
                    ),
                ),
                (
                    "completed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when task was completed",
                        null=True,
                        verbose_name="completed at",
                    ),
                ),
                (
                    "estimated_hours",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Estimated time to complete the task in hours",
                        max_digits=5,
                        null=True,
                        verbose_name="estimated hours",
                    ),
                ),
                (
                    "actual_hours",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Actual time spent on the task in hours",
                        max_digits=5,
                        null=True,
                        verbose_name="actual hours",
                    ),
                ),
                (
                    "location",
                    models.CharField(
                        blank=True,
                        help_text="Location where the task should be performed",
                        max_length=200,
                        verbose_name="location",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the task",
                        verbose_name="notes",
                    ),
                ),
                (
                    "completion_notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about task completion",
                        verbose_name="completion notes",
                    ),
                ),
                (
                    "escalated_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when task was escalated",
                        null=True,
                        verbose_name="escalated at",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="Staff member assigned to this task",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_tasks",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned to",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        help_text="User who created the task",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_tasks",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="created by",
                    ),
                ),
                (
                    "escalated_to",
                    models.ForeignKey(
                        blank=True,
                        help_text="User the task was escalated to",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="escalated_tasks",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="escalated to",
                    ),
                ),
            ],
            options={
                "verbose_name": "task",
                "verbose_name_plural": "tasks",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskAssignment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "assigned_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="assigned at"),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about the assignment",
                        verbose_name="assignment notes",
                    ),
                ),
                (
                    "assigned_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_assignments_made",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned by",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_assignments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned to",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignments",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
            ],
            options={
                "verbose_name": "task assignment",
                "verbose_name_plural": "task assignments",
                "ordering": ["-assigned_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskAssignmentHistory",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "assigned_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_assignment_actions",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned by",
                    ),
                ),
                (
                    "assigned_from",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="task_assignments_from",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned from",
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_assignments_to",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="assigned to",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="assignment_history",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
            ],
            options={
                "verbose_name": "task assignment history",
                "verbose_name_plural": "task assignment histories",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskAttachment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "file_name",
                    models.CharField(
                        help_text="Original name of the uploaded file",
                        max_length=255,
                        verbose_name="file name",
                    ),
                ),
                (
                    "file_url",
                    models.URLField(
                        help_text="URL to access the uploaded file",
                        verbose_name="file URL",
                    ),
                ),
                (
                    "file_size",
                    models.PositiveIntegerField(
                        help_text="Size of the file in bytes", verbose_name="file size"
                    ),
                ),
                (
                    "file_type",
                    models.CharField(
                        help_text="MIME type of the file",
                        max_length=100,
                        verbose_name="file type",
                    ),
                ),
                (
                    "attachment_type",
                    models.CharField(
                        choices=[
                            ("INSTRUCTION", "Instruction"),
                            ("REFERENCE", "Reference"),
                            ("EVIDENCE", "Evidence"),
                            ("COMPLETION", "Completion"),
                            ("OTHER", "Other"),
                        ],
                        default="OTHER",
                        help_text="Type of attachment",
                        max_length=20,
                        verbose_name="attachment type",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="attachments",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
                (
                    "uploaded_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_attachments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="uploaded by",
                    ),
                ),
            ],
            options={
                "verbose_name": "task attachment",
                "verbose_name_plural": "task attachments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskComment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "content",
                    models.TextField(
                        help_text="Content of the comment", verbose_name="content"
                    ),
                ),
                (
                    "is_internal",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this comment is internal (staff only)",
                        verbose_name="is internal",
                    ),
                ),
                (
                    "author",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_comments",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="author",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="replies",
                        to="common.taskcomment",
                        verbose_name="parent comment",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="comments",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
            ],
            options={
                "verbose_name": "task comment",
                "verbose_name_plural": "task comments",
                "ordering": ["created_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskEscalationHistory",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "reason",
                    models.TextField(
                        help_text="Reason for escalation",
                        verbose_name="escalation reason",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "escalated_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_escalations_made",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="escalated by",
                    ),
                ),
                (
                    "escalated_to",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_escalations_received",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="escalated to",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="escalation_history",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
            ],
            options={
                "verbose_name": "task escalation history",
                "verbose_name_plural": "task escalation histories",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="TaskStatusHistory",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "from_status",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("PENDING", "Pending"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("OVERDUE", "Overdue"),
                        ],
                        help_text="Previous status",
                        max_length=20,
                        null=True,
                        verbose_name="from status",
                    ),
                ),
                (
                    "to_status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("ASSIGNED", "Assigned"),
                            ("IN_PROGRESS", "In Progress"),
                            ("COMPLETED", "Completed"),
                            ("CANCELLED", "Cancelled"),
                            ("OVERDUE", "Overdue"),
                        ],
                        help_text="New status",
                        max_length=20,
                        verbose_name="to status",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Notes about the status change",
                        verbose_name="notes",
                    ),
                ),
                (
                    "changed_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_status_changes",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="changed by",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="status_history",
                        to="common.task",
                        verbose_name="task",
                    ),
                ),
            ],
            options={
                "verbose_name": "task status history",
                "verbose_name_plural": "task status histories",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Transaction",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "transaction_id",
                    models.CharField(
                        help_text="Unique transaction identifier",
                        max_length=100,
                        unique=True,
                        verbose_name="transaction ID",
                    ),
                ),
                (
                    "reference",
                    models.CharField(
                        blank=True,
                        help_text="External reference (e.g., payment gateway reference)",
                        max_length=100,
                        null=True,
                        verbose_name="reference",
                    ),
                ),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("deposit", "Deposit"),
                            ("withdrawal", "Withdrawal"),
                            ("payment", "Payment"),
                            ("refund", "Refund"),
                            ("transfer", "Transfer"),
                            ("bill_payment", "Bill Payment"),
                        ],
                        help_text="Type of transaction",
                        max_length=20,
                        verbose_name="type",
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Transaction amount",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="amount",
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        default="NGN",
                        help_text="Currency code",
                        max_length=3,
                        verbose_name="currency",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("processing", "Processing"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                            ("cancelled", "Cancelled"),
                            ("refunded", "Refunded"),
                        ],
                        default="pending",
                        help_text="Current transaction status",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        help_text="Transaction description", verbose_name="description"
                    ),
                ),
                (
                    "provider",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("paystack", "Paystack"),
                            ("flutterwave", "Flutterwave"),
                            ("bank_transfer", "Bank Transfer"),
                            ("cash", "Cash"),
                        ],
                        help_text="Payment provider used",
                        max_length=20,
                        null=True,
                        verbose_name="provider",
                    ),
                ),
                (
                    "provider_response",
                    models.JSONField(
                        blank=True,
                        help_text="Response from payment provider",
                        null=True,
                        verbose_name="provider response",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        help_text="Additional transaction metadata",
                        null=True,
                        verbose_name="metadata",
                    ),
                ),
                (
                    "processed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when transaction was processed",
                        null=True,
                        verbose_name="processed at",
                    ),
                ),
                (
                    "failed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when transaction failed",
                        null=True,
                        verbose_name="failed at",
                    ),
                ),
                (
                    "failure_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for transaction failure",
                        null=True,
                        verbose_name="failure reason",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "Transaction",
                "verbose_name_plural": "Transactions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="PaymentError",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "error_type",
                    models.CharField(
                        choices=[
                            ("insufficient_funds", "Insufficient Funds"),
                            ("invalid_card", "Invalid Card"),
                            ("expired_card", "Expired Card"),
                            ("declined_card", "Declined Card"),
                            ("network_error", "Network Error"),
                            ("provider_error", "Provider Error"),
                            ("validation_error", "Validation Error"),
                            ("timeout_error", "Timeout Error"),
                            ("authentication_error", "Authentication Error"),
                            ("limit_exceeded", "Limit Exceeded"),
                            ("account_suspended", "Account Suspended"),
                            ("unknown_error", "Unknown Error"),
                            ("utility_provider_error", "Utility Provider Error"),
                            ("invalid_customer_id", "Invalid Customer ID"),
                            (
                                "utility_service_unavailable",
                                "Utility Service Unavailable",
                            ),
                            ("meter_not_found", "Meter Not Found"),
                            (
                                "customer_validation_failed",
                                "Customer Validation Failed",
                            ),
                        ],
                        help_text="Categorized error type",
                        max_length=30,
                        verbose_name="error type",
                    ),
                ),
                (
                    "severity",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        help_text="Error severity level",
                        max_length=20,
                        verbose_name="severity",
                    ),
                ),
                (
                    "provider_error_code",
                    models.CharField(
                        blank=True,
                        help_text="Error code from payment provider",
                        max_length=50,
                        null=True,
                        verbose_name="provider error code",
                    ),
                ),
                (
                    "provider_error_message",
                    models.TextField(
                        help_text="Original error message from payment provider",
                        verbose_name="provider error message",
                    ),
                ),
                (
                    "user_friendly_message",
                    models.TextField(
                        help_text="User-friendly error message",
                        verbose_name="user friendly message",
                    ),
                ),
                (
                    "recovery_options",
                    models.JSONField(
                        blank=True,
                        help_text="Available recovery options for the user",
                        null=True,
                        verbose_name="recovery options",
                    ),
                ),
                (
                    "retry_count",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of retry attempts made",
                        verbose_name="retry count",
                    ),
                ),
                (
                    "max_retries",
                    models.PositiveIntegerField(
                        default=3,
                        help_text="Maximum number of retry attempts allowed",
                        verbose_name="max retries",
                    ),
                ),
                (
                    "can_retry",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this error allows retry attempts",
                        verbose_name="can retry",
                    ),
                ),
                (
                    "is_resolved",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this error has been resolved",
                        verbose_name="is resolved",
                    ),
                ),
                (
                    "resolved_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when error was resolved",
                        null=True,
                        verbose_name="resolved at",
                    ),
                ),
                (
                    "resolution_method",
                    models.CharField(
                        blank=True,
                        help_text="Method used to resolve the error",
                        max_length=50,
                        null=True,
                        verbose_name="resolution method",
                    ),
                ),
                (
                    "admin_notified",
                    models.BooleanField(
                        default=False,
                        help_text="Whether administrators have been notified",
                        verbose_name="admin notified",
                    ),
                ),
                (
                    "user_notified",
                    models.BooleanField(
                        default=False,
                        help_text="Whether user has been notified",
                        verbose_name="user notified",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        help_text="Additional error metadata",
                        null=True,
                        verbose_name="metadata",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "transaction",
                    models.ForeignKey(
                        help_text="The transaction that failed",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="payment_errors",
                        to="common.transaction",
                        verbose_name="transaction",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payment Error",
                "verbose_name_plural": "Payment Errors",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="UtilityProvider",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Utility provider name",
                        max_length=100,
                        verbose_name="name",
                    ),
                ),
                (
                    "provider_type",
                    models.CharField(
                        choices=[
                            ("electricity", "Electricity"),
                            ("water", "Water"),
                            ("security", "Security"),
                            ("maintenance", "Maintenance"),
                            ("service_charge", "Service Charge"),
                            ("waste_management", "Waste Management"),
                            ("electricity_utility", "Electricity (Direct)"),
                            ("water_utility", "Water (Direct)"),
                            ("internet_utility", "Internet"),
                            ("cable_tv_utility", "Cable TV"),
                            ("other", "Other"),
                        ],
                        help_text="Type of utility service provided",
                        max_length=20,
                        verbose_name="provider type",
                    ),
                ),
                (
                    "api_provider",
                    models.CharField(
                        choices=[
                            ("paystack", "Paystack"),
                            ("flutterwave", "Flutterwave"),
                            ("bank_transfer", "Bank Transfer"),
                            ("cash", "Cash"),
                        ],
                        help_text="Payment API provider (Paystack/Flutterwave)",
                        max_length=20,
                        verbose_name="API provider",
                    ),
                ),
                (
                    "provider_code",
                    models.CharField(
                        help_text="Unique provider code for API calls (e.g., 'ikeja-electric')",
                        max_length=50,
                        verbose_name="provider code",
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this provider is currently active",
                        verbose_name="is active",
                    ),
                ),
                (
                    "supports_validation",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this provider supports customer validation",
                        verbose_name="supports validation",
                    ),
                ),
                (
                    "supports_info_lookup",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this provider supports customer info lookup",
                        verbose_name="supports info lookup",
                    ),
                ),
                (
                    "minimum_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("100.00"),
                        help_text="Minimum payment amount",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="minimum amount",
                    ),
                ),
                (
                    "maximum_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("100000.00"),
                        help_text="Maximum payment amount",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="maximum amount",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        help_text="Additional provider metadata and configuration",
                        null=True,
                        verbose_name="metadata",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "Utility Provider",
                "verbose_name_plural": "Utility Providers",
            },
        ),
        migrations.CreateModel(
            name="Bill",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "bill_number",
                    models.CharField(
                        help_text="Unique bill number",
                        max_length=50,
                        unique=True,
                        verbose_name="bill number",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        blank=True,
                        help_text="The ID of the user this bill is for (null for cluster-wide bills)",
                        null=True,
                        verbose_name="user id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Bill title", max_length=200, verbose_name="title"
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Bill description",
                        null=True,
                        verbose_name="description",
                    ),
                ),
                (
                    "type",
                    models.CharField(
                        choices=[
                            ("electricity", "Electricity"),
                            ("water", "Water"),
                            ("security", "Security"),
                            ("maintenance", "Maintenance"),
                            ("service_charge", "Service Charge"),
                            ("waste_management", "Waste Management"),
                            ("electricity_utility", "Electricity (Direct)"),
                            ("water_utility", "Water (Direct)"),
                            ("internet_utility", "Internet"),
                            ("cable_tv_utility", "Cable TV"),
                            ("other", "Other"),
                        ],
                        help_text="Type of bill",
                        max_length=20,
                        verbose_name="type",
                    ),
                ),
                (
                    "category",
                    models.CharField(
                        choices=[
                            ("cluster_managed", "Cluster-managed"),
                            ("user_managed", "User-managed"),
                        ],
                        default="cluster_managed",
                        help_text="Bill category (cluster-managed or user-managed)",
                        max_length=20,
                        verbose_name="category",
                    ),
                ),
                (
                    "customer_id",
                    models.CharField(
                        blank=True,
                        help_text="Customer ID/meter number for utility bills",
                        max_length=100,
                        null=True,
                        verbose_name="customer ID",
                    ),
                ),
                (
                    "is_automated",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this bill has automated recurring payments",
                        verbose_name="is automated",
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Bill amount",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="amount",
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        default="NGN",
                        help_text="Currency code",
                        max_length=3,
                        verbose_name="currency",
                    ),
                ),
                (
                    "allow_payment_after_due",
                    models.BooleanField(
                        default=True,
                        help_text="Whether payment is allowed after due date",
                        verbose_name="allow payment after due",
                    ),
                ),
                (
                    "dispute_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for disputing the bill",
                        null=True,
                        verbose_name="dispute reason",
                    ),
                ),
                (
                    "disputed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when bill was disputed",
                        null=True,
                        verbose_name="disputed at",
                    ),
                ),
                (
                    "due_date",
                    models.DateTimeField(
                        help_text="Bill due date", verbose_name="due date"
                    ),
                ),
                (
                    "paid_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Amount already paid",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.00"))
                        ],
                        verbose_name="paid amount",
                    ),
                ),
                (
                    "paid_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when bill was paid",
                        null=True,
                        verbose_name="paid at",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        help_text="Additional bill metadata",
                        null=True,
                        verbose_name="metadata",
                    ),
                ),
                (
                    "acknowledged_by",
                    models.ManyToManyField(
                        blank=True,
                        help_text="Users who have acknowledged this bill",
                        related_name="acknowledged_bills",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="acknowledged by",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "payment_transaction",
                    models.ForeignKey(
                        blank=True,
                        help_text="Transaction used to pay this bill",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="bills",
                        to="common.transaction",
                        verbose_name="payment transaction",
                    ),
                ),
                (
                    "utility_provider",
                    models.ForeignKey(
                        blank=True,
                        help_text="Utility provider for user-managed bills",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="bills",
                        to="common.utilityprovider",
                        verbose_name="utility provider",
                    ),
                ),
            ],
            options={
                "verbose_name": "Bill",
                "verbose_name_plural": "Bills",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="Visitor",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Full name of the visitor",
                        max_length=255,
                        verbose_name="visitor name",
                    ),
                ),
                (
                    "email",
                    models.EmailField(
                        blank=True,
                        help_text="Email address of the visitor",
                        max_length=254,
                        null=True,
                        verbose_name="email address",
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        help_text="Phone number of the visitor",
                        max_length=20,
                        verbose_name="phone number",
                    ),
                ),
                (
                    "estimated_arrival",
                    models.DateTimeField(
                        help_text="Expected date and time of arrival",
                        verbose_name="estimated arrival",
                    ),
                ),
                (
                    "visit_type",
                    models.CharField(
                        choices=[
                            ("ONE_TIME", "One-time"),
                            ("SHORT_STAY", "Short stay"),
                            ("EXTENDED_STAY", "Extended stay"),
                        ],
                        default="ONE_TIME",
                        help_text="Type of visit",
                        max_length=20,
                        verbose_name="visit type",
                    ),
                ),
                (
                    "access_code",
                    models.CharField(
                        help_text="Unique access code for the visitor",
                        max_length=10,
                        unique=True,
                        verbose_name="access code",
                    ),
                ),
                (
                    "invited_by",
                    models.UUIDField(
                        help_text="ID of the user who invited this visitor",
                        verbose_name="invited by",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("PENDING", "Pending"),
                            ("APPROVED", "Approved"),
                            ("REJECTED", "Rejected"),
                            ("CHECKED_IN", "Checked-in"),
                            ("CHECKED_OUT", "Checked-out"),
                            ("EXPIRED", "Expired"),
                        ],
                        default="PENDING",
                        help_text="Current status of the visitor",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "valid_for",
                    models.CharField(
                        choices=[
                            ("ONE_TIME", "One-time"),
                            ("MULTIPLE", "Multiple visits"),
                        ],
                        default="ONE_TIME",
                        help_text="Validity type of the access code",
                        max_length=20,
                        verbose_name="valid for",
                    ),
                ),
                (
                    "valid_date",
                    models.DateField(
                        help_text="Date until which the access code is valid",
                        verbose_name="valid date",
                    ),
                ),
                (
                    "purpose",
                    models.TextField(
                        blank=True,
                        help_text="Purpose or reason for the visit",
                        null=True,
                        verbose_name="purpose of visit",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the visitor",
                        null=True,
                        verbose_name="notes",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "visitor",
                "verbose_name_plural": "visitors",
                "ordering": ["-estimated_arrival"],
            },
        ),
        migrations.CreateModel(
            name="Invitation",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Title or purpose of the invitation",
                        max_length=255,
                        verbose_name="title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Detailed description of the invitation",
                        null=True,
                        verbose_name="description",
                    ),
                ),
                (
                    "start_date",
                    models.DateField(
                        help_text="Date when the invitation becomes valid",
                        verbose_name="start date",
                    ),
                ),
                (
                    "end_date",
                    models.DateField(
                        help_text="Date when the invitation expires",
                        verbose_name="end date",
                    ),
                ),
                (
                    "recurrence_type",
                    models.CharField(
                        choices=[
                            ("NONE", "None (One-time)"),
                            ("DAILY", "Daily"),
                            ("WEEKLY", "Weekly"),
                            ("MONTHLY", "Monthly"),
                            ("CUSTOM", "Custom"),
                        ],
                        default="NONE",
                        help_text="Type of recurrence for this invitation",
                        max_length=20,
                        verbose_name="recurrence type",
                    ),
                ),
                (
                    "recurrence_days",
                    models.CharField(
                        blank=True,
                        help_text="Days of the week for weekly recurrence (comma-separated numbers, 0=Monday)",
                        max_length=50,
                        null=True,
                        verbose_name="recurrence days",
                    ),
                ),
                (
                    "recurrence_day_of_month",
                    models.IntegerField(
                        blank=True,
                        help_text="Day of the month for monthly recurrence",
                        null=True,
                        verbose_name="recurrence day of month",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("ACTIVE", "Active"),
                            ("REVOKED", "Revoked"),
                            ("EXPIRED", "Expired"),
                            ("COMPLETED", "Completed"),
                        ],
                        default="ACTIVE",
                        help_text="Current status of the invitation",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="ID of the user who created this invitation",
                        verbose_name="created by",
                    ),
                ),
                (
                    "revoked_by",
                    models.UUIDField(
                        blank=True,
                        help_text="ID of the user who revoked this invitation",
                        null=True,
                        verbose_name="revoked by",
                    ),
                ),
                (
                    "revoked_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time when the invitation was revoked",
                        null=True,
                        verbose_name="revoked at",
                    ),
                ),
                (
                    "revocation_reason",
                    models.TextField(
                        blank=True,
                        help_text="Reason for revoking the invitation",
                        null=True,
                        verbose_name="revocation reason",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "visitor",
                    models.ForeignKey(
                        help_text="The visitor this invitation is for",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="invitations",
                        to="common.visitor",
                        verbose_name="visitor",
                    ),
                ),
            ],
            options={
                "verbose_name": "invitation",
                "verbose_name_plural": "invitations",
                "ordering": ["-start_date", "status"],
            },
        ),
        migrations.CreateModel(
            name="VisitorLog",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "date",
                    models.DateField(
                        auto_now_add=True,
                        help_text="Date of the log entry",
                        verbose_name="date",
                    ),
                ),
                (
                    "arrival_time",
                    models.TimeField(
                        blank=True,
                        help_text="Time when the visitor arrived",
                        null=True,
                        verbose_name="arrival time",
                    ),
                ),
                (
                    "departure_time",
                    models.TimeField(
                        blank=True,
                        help_text="Time when the visitor departed",
                        null=True,
                        verbose_name="departure time",
                    ),
                ),
                (
                    "log_type",
                    models.CharField(
                        choices=[
                            ("SCHEDULED", "Scheduled"),
                            ("CHECKED_IN", "Checked-in"),
                            ("CHECKED_OUT", "Checked-out"),
                            ("CANCELLED", "Cancelled"),
                        ],
                        default="SCHEDULED",
                        help_text="Type of log entry",
                        max_length=20,
                        verbose_name="log type",
                    ),
                ),
                (
                    "checked_in_by",
                    models.UUIDField(
                        blank=True,
                        help_text="ID of the user who checked in the visitor",
                        null=True,
                        verbose_name="checked in by",
                    ),
                ),
                (
                    "checked_out_by",
                    models.UUIDField(
                        blank=True,
                        help_text="ID of the user who checked out the visitor",
                        null=True,
                        verbose_name="checked out by",
                    ),
                ),
                (
                    "notes",
                    models.TextField(
                        blank=True,
                        help_text="Additional notes about the visit",
                        null=True,
                        verbose_name="notes",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "visitor",
                    models.ForeignKey(
                        help_text="The visitor this log entry is for",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="logs",
                        to="common.visitor",
                        verbose_name="visitor",
                    ),
                ),
            ],
            options={
                "verbose_name": "visitor log",
                "verbose_name_plural": "visitor logs",
                "ordering": ["-date", "-arrival_time"],
            },
        ),
        migrations.CreateModel(
            name="Wallet",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        help_text="The ID of the user who owns this wallet",
                        verbose_name="user id",
                    ),
                ),
                (
                    "balance",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Current wallet balance",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.00"))
                        ],
                        verbose_name="balance",
                    ),
                ),
                (
                    "available_balance",
                    models.DecimalField(
                        decimal_places=2,
                        default=Decimal("0.00"),
                        help_text="Available balance (excluding pending transactions)",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.00"))
                        ],
                        verbose_name="available balance",
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        default="NGN",
                        help_text="Currency code (e.g., NGN, USD)",
                        max_length=3,
                        verbose_name="currency",
                    ),
                ),
                (
                    "account_number",
                    models.CharField(
                        blank=True,
                        help_text="Associated bank account number",
                        max_length=20,
                        null=True,
                        verbose_name="account number",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("suspended", "Suspended"),
                            ("closed", "Closed"),
                        ],
                        default="active",
                        help_text="Current wallet status",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "pin_hash",
                    models.CharField(
                        blank=True,
                        help_text="Hashed wallet PIN for transactions",
                        max_length=255,
                        null=True,
                        verbose_name="PIN hash",
                    ),
                ),
                (
                    "is_pin_set",
                    models.BooleanField(
                        default=False,
                        help_text="Whether the user has set a wallet PIN",
                        verbose_name="is PIN set",
                    ),
                ),
                (
                    "last_transaction_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date and time of the last transaction",
                        null=True,
                        verbose_name="last transaction date",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
            ],
            options={
                "verbose_name": "Wallet",
                "verbose_name_plural": "Wallets",
            },
        ),
        migrations.AddField(
            model_name="transaction",
            name="wallet",
            field=models.ForeignKey(
                help_text="The wallet this transaction belongs to",
                on_delete=django.db.models.deletion.CASCADE,
                related_name="transactions",
                to="common.wallet",
                verbose_name="wallet",
            ),
        ),
        migrations.CreateModel(
            name="RecurringPayment",
            fields=[
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="creation date"
                    ),
                ),
                (
                    "created_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who added this object.",
                        null=True,
                        verbose_name="created by",
                    ),
                ),
                (
                    "last_modified_at",
                    models.DateTimeField(
                        auto_now=True, verbose_name="last modified date"
                    ),
                ),
                (
                    "last_modified_by",
                    models.UUIDField(
                        help_text="the Id of the ClustR account user who last modified this object.",
                        null=True,
                        verbose_name="last modified by",
                    ),
                ),
                (
                    "id",
                    models.UUIDField(
                        default=uuid.uuid4,
                        help_text="UUID primary key",
                        primary_key=True,
                        serialize=False,
                        verbose_name="id",
                    ),
                ),
                (
                    "user_id",
                    models.UUIDField(
                        help_text="The ID of the user who set up this recurring payment",
                        verbose_name="user id",
                    ),
                ),
                (
                    "title",
                    models.CharField(
                        help_text="Recurring payment title",
                        max_length=200,
                        verbose_name="title",
                    ),
                ),
                (
                    "description",
                    models.TextField(
                        blank=True,
                        help_text="Recurring payment description",
                        null=True,
                        verbose_name="description",
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Payment amount",
                        max_digits=15,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="amount",
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        default="NGN",
                        help_text="Currency code",
                        max_length=3,
                        verbose_name="currency",
                    ),
                ),
                (
                    "frequency",
                    models.CharField(
                        choices=[
                            ("daily", "Daily"),
                            ("weekly", "Weekly"),
                            ("monthly", "Monthly"),
                            ("quarterly", "Quarterly"),
                            ("yearly", "Yearly"),
                        ],
                        help_text="Payment frequency",
                        max_length=20,
                        verbose_name="frequency",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("paused", "Paused"),
                            ("cancelled", "Cancelled"),
                            ("expired", "Expired"),
                        ],
                        default="active",
                        help_text="Current recurring payment status",
                        max_length=20,
                        verbose_name="status",
                    ),
                ),
                (
                    "start_date",
                    models.DateTimeField(
                        help_text="Date when recurring payments should start",
                        verbose_name="start date",
                    ),
                ),
                (
                    "end_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date when recurring payments should end (optional)",
                        null=True,
                        verbose_name="end date",
                    ),
                ),
                (
                    "next_payment_date",
                    models.DateTimeField(
                        help_text="Date of the next scheduled payment",
                        verbose_name="next payment date",
                    ),
                ),
                (
                    "last_payment_date",
                    models.DateTimeField(
                        blank=True,
                        help_text="Date of the last successful payment",
                        null=True,
                        verbose_name="last payment date",
                    ),
                ),
                (
                    "total_payments",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Total number of successful payments made",
                        verbose_name="total payments",
                    ),
                ),
                (
                    "failed_attempts",
                    models.PositiveIntegerField(
                        default=0,
                        help_text="Number of consecutive failed payment attempts",
                        verbose_name="failed attempts",
                    ),
                ),
                (
                    "max_failed_attempts",
                    models.PositiveIntegerField(
                        default=3,
                        help_text="Maximum failed attempts before pausing",
                        verbose_name="max failed attempts",
                    ),
                ),
                (
                    "customer_id",
                    models.CharField(
                        blank=True,
                        help_text="Customer ID/meter number for utility payments",
                        max_length=100,
                        null=True,
                        verbose_name="customer ID",
                    ),
                ),
                (
                    "payment_source",
                    models.CharField(
                        choices=[("wallet", "Wallet"), ("direct", "Direct Payment")],
                        default="wallet",
                        help_text="Source of payment (wallet or direct)",
                        max_length=20,
                        verbose_name="payment source",
                    ),
                ),
                (
                    "spending_limit",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Maximum amount that can be spent per payment",
                        max_digits=15,
                        null=True,
                        validators=[
                            django.core.validators.MinValueValidator(Decimal("0.01"))
                        ],
                        verbose_name="spending limit",
                    ),
                ),
                (
                    "metadata",
                    models.JSONField(
                        blank=True,
                        help_text="Additional recurring payment metadata",
                        null=True,
                        verbose_name="metadata",
                    ),
                ),
                (
                    "bill",
                    models.ForeignKey(
                        blank=True,
                        help_text="The bill to debit for payments",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="recurring_payments",
                        to="common.bill",
                        verbose_name="bill",
                    ),
                ),
                (
                    "cluster",
                    models.ForeignKey(
                        help_text="The cluster this object belongs to",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="%(class)ss",
                        related_query_name="%(class)s",
                        to="common.cluster",
                        verbose_name="cluster",
                    ),
                ),
                (
                    "utility_provider",
                    models.ForeignKey(
                        blank=True,
                        help_text="Utility provider for automated utility payments",
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="recurring_payments",
                        to="common.utilityprovider",
                        verbose_name="utility provider",
                    ),
                ),
                (
                    "wallet",
                    models.ForeignKey(
                        help_text="The wallet to debit for payments",
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="recurring_payments",
                        to="common.wallet",
                        verbose_name="wallet",
                    ),
                ),
            ],
            options={
                "verbose_name": "Recurring Payment",
                "verbose_name_plural": "Recurring Payments",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddIndex(
            model_name="child",
            index=models.Index(
                fields=["cluster", "parent"], name="common_chil_cluster_17112b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="child",
            index=models.Index(
                fields=["cluster", "is_active"], name="common_chil_cluster_908931_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="child",
            index=models.Index(
                fields=["cluster", "house_number"],
                name="common_chil_cluster_3f8cc1_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcementview",
            index=models.Index(
                fields=["announcement", "user_id"],
                name="common_anno_announc_e1bfa3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcementview",
            index=models.Index(
                fields=["user_id", "viewed_at"], name="common_anno_user_id_80c9f3_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="announcementview",
            unique_together={("announcement", "user_id")},
        ),
        migrations.AddIndex(
            model_name="announcementreadstatus",
            index=models.Index(
                fields=["user_id", "is_read"], name="common_anno_user_id_001b98_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="announcementreadstatus",
            index=models.Index(
                fields=["announcement", "is_read"],
                name="common_anno_announc_f19ab1_idx",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="announcementreadstatus",
            unique_together={("announcement", "user_id")},
        ),
        migrations.AddIndex(
            model_name="announcementlike",
            index=models.Index(
                fields=["announcement", "user_id"],
                name="common_anno_announc_5eaeb8_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcementlike",
            index=models.Index(
                fields=["user_id", "liked_at"], name="common_anno_user_id_90c490_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="announcementlike",
            unique_together={("announcement", "user_id")},
        ),
        migrations.AddIndex(
            model_name="announcementcomment",
            index=models.Index(
                fields=["announcement", "created_at"],
                name="common_anno_announc_ea1ea1_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcementcomment",
            index=models.Index(
                fields=["author_id", "created_at"],
                name="common_anno_author__969999_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcementattachment",
            index=models.Index(
                fields=["announcement"], name="common_anno_announc_418d61_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="announcementattachment",
            index=models.Index(
                fields=["is_image"], name="common_anno_is_imag_26e67f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="announcement",
            index=models.Index(
                fields=["cluster", "category"], name="common_anno_cluster_d87513_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="announcement",
            index=models.Index(
                fields=["cluster", "is_published"],
                name="common_anno_cluster_1c0671_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcement",
            index=models.Index(
                fields=["cluster", "published_at"],
                name="common_anno_cluster_2c6b45_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="announcement",
            index=models.Index(
                fields=["cluster", "expires_at"], name="common_anno_cluster_fa1da1_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="announcement",
            index=models.Index(
                fields=["author_id"], name="common_anno_author__693282_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="emergencycontact",
            index=models.Index(
                fields=["cluster", "contact_type"],
                name="common_emer_cluster_4be1e3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="emergencycontact",
            index=models.Index(
                fields=["cluster", "user"], name="common_emer_cluster_7994d4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="emergencycontact",
            index=models.Index(
                fields=["cluster", "is_active"], name="common_emer_cluster_ff169b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="event",
            index=models.Index(
                fields=["event_date"], name="common_even_event_d_0cad1b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="event",
            index=models.Index(fields=["status"], name="common_even_status_f63140_idx"),
        ),
        migrations.AddIndex(
            model_name="event",
            index=models.Index(
                fields=["created_by"], name="common_even_created_e7325e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="event",
            index=models.Index(
                fields=["access_code"], name="common_even_access__918cd9_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="eventguest",
            index=models.Index(fields=["event"], name="common_even_event_i_8dcfdb_idx"),
        ),
        migrations.AddIndex(
            model_name="eventguest",
            index=models.Index(fields=["status"], name="common_even_status_07ec2f_idx"),
        ),
        migrations.AddIndex(
            model_name="eventguest",
            index=models.Index(
                fields=["invited_by"], name="common_even_invited_31428c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="eventguest",
            index=models.Index(
                fields=["access_code"], name="common_even_access__68e038_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="exitrequest",
            index=models.Index(
                fields=["cluster", "child"], name="common_exit_cluster_0960fb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="exitrequest",
            index=models.Index(
                fields=["cluster", "status"], name="common_exit_cluster_2ebe69_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="exitrequest",
            index=models.Index(
                fields=["cluster", "requested_by"],
                name="common_exit_cluster_3e9847_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="exitrequest",
            index=models.Index(
                fields=["cluster", "created_at"], name="common_exit_cluster_0c8a3b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="entryexitlog",
            index=models.Index(
                fields=["cluster", "child"], name="common_entr_cluster_3e5252_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="entryexitlog",
            index=models.Index(
                fields=["cluster", "date"], name="common_entr_cluster_3c0897_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="entryexitlog",
            index=models.Index(
                fields=["cluster", "status"], name="common_entr_cluster_cbb44b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="entryexitlog",
            index=models.Index(
                fields=["cluster", "log_type"], name="common_entr_cluster_53c010_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["issue_no"], name="common_issu_issue_n_6b43f5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(fields=["status"], name="common_issu_status_d51025_idx"),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["issue_type"], name="common_issu_issue_t_90dd53_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["priority"], name="common_issu_priorit_d8818a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["reported_by"], name="common_issu_reporte_a90248_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["assigned_to"], name="common_issu_assigne_b2c588_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueticket",
            index=models.Index(
                fields=["created_at"], name="common_issu_created_ac0ad4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuestatushistory",
            index=models.Index(fields=["issue"], name="common_issu_issue_i_af6f99_idx"),
        ),
        migrations.AddIndex(
            model_name="issuestatushistory",
            index=models.Index(
                fields=["to_status"], name="common_issu_to_stat_e5cbe7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuestatushistory",
            index=models.Index(
                fields=["changed_by"], name="common_issu_changed_7558e7_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuestatushistory",
            index=models.Index(
                fields=["created_at"], name="common_issu_created_12d895_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuecomment",
            index=models.Index(fields=["issue"], name="common_issu_issue_i_2b6fe0_idx"),
        ),
        migrations.AddIndex(
            model_name="issuecomment",
            index=models.Index(
                fields=["author"], name="common_issu_author__fac89c_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuecomment",
            index=models.Index(
                fields=["created_at"], name="common_issu_created_ff5d3e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issuecomment",
            index=models.Index(
                fields=["is_internal"], name="common_issu_is_inte_cd4b81_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueattachment",
            index=models.Index(fields=["issue"], name="common_issu_issue_i_b4c3f9_idx"),
        ),
        migrations.AddIndex(
            model_name="issueattachment",
            index=models.Index(
                fields=["comment"], name="common_issu_comment_097c15_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="issueattachment",
            index=models.Index(
                fields=["uploaded_by"], name="common_issu_uploade_992818_idx"
            ),
        ),
        migrations.AddConstraint(
            model_name="issueattachment",
            constraint=models.CheckConstraint(
                condition=models.Q(
                    ("issue__isnull", False),
                    ("comment__isnull", False),
                    _connector="OR",
                ),
                name="attachment_belongs_to_issue_or_comment",
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["maintenance_number"], name="common_main_mainten_f93a94_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(fields=["status"], name="common_main_status_12fce9_idx"),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["priority"], name="common_main_priorit_c0b35a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["maintenance_type"], name="common_main_mainten_7fb712_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["property_type"], name="common_main_propert_a3d459_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["performed_by"], name="common_main_perform_d59084_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["requested_by"], name="common_main_request_ae1dd1_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["scheduled_date"], name="common_main_schedul_c8861d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["next_maintenance_due"], name="common_main_next_ma_4d635a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenancelog",
            index=models.Index(
                fields=["created_at"], name="common_main_created_5eb64a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenanceschedule",
            index=models.Index(
                fields=["next_due_date"], name="common_main_next_du_3d74a5_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenanceschedule",
            index=models.Index(
                fields=["is_active"], name="common_main_is_acti_d30a5a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenanceschedule",
            index=models.Index(
                fields=["property_type"], name="common_main_propert_16c293_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="maintenanceschedule",
            index=models.Index(
                fields=["assigned_to"], name="common_main_assigne_aaee81_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="shift",
            index=models.Index(
                fields=["start_time", "end_time"], name="common_shif_start_t_6a88dd_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="shift",
            index=models.Index(
                fields=["assigned_staff", "start_time"],
                name="common_shif_assigne_42d14b_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="shift",
            index=models.Index(fields=["status"], name="common_shif_status_fa7051_idx"),
        ),
        migrations.AddIndex(
            model_name="sosalert",
            index=models.Index(
                fields=["cluster", "status"], name="common_sosa_cluster_c850ad_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sosalert",
            index=models.Index(
                fields=["cluster", "user"], name="common_sosa_cluster_7ebcd2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="sosalert",
            index=models.Index(
                fields=["cluster", "emergency_type"],
                name="common_sosa_cluster_d8222e_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="sosalert",
            index=models.Index(
                fields=["cluster", "created_at"], name="common_sosa_cluster_8cf6b2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="emergencyresponse",
            index=models.Index(
                fields=["cluster", "alert"], name="common_emer_cluster_8e3129_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="emergencyresponse",
            index=models.Index(
                fields=["cluster", "responder"], name="common_emer_cluster_19b900_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["task_number"], name="common_task_task_nu_584990_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(fields=["status"], name="common_task_status_25b448_idx"),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["priority"], name="common_task_priorit_061836_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["assigned_to"], name="common_task_assigne_aa32ac_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["created_by"], name="common_task_created_af02be_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["due_date"], name="common_task_due_dat_a660c3_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["task_type"], name="common_task_task_ty_369b9d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="task",
            index=models.Index(
                fields=["created_at"], name="common_task_created_916858_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="paymenterror",
            index=models.Index(
                fields=["transaction", "created_at"],
                name="common_paym_transac_899c4e_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="paymenterror",
            index=models.Index(
                fields=["error_type"], name="common_paym_error_t_4ddf68_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="paymenterror",
            index=models.Index(
                fields=["severity"], name="common_paym_severit_cd94e6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="paymenterror",
            index=models.Index(
                fields=["is_resolved"], name="common_paym_is_reso_e595d1_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="paymenterror",
            index=models.Index(
                fields=["can_retry", "retry_count"],
                name="common_paym_can_ret_48d3f6_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="utilityprovider",
            index=models.Index(
                fields=["provider_type", "cluster"],
                name="common_util_provide_32d2f5_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="utilityprovider",
            index=models.Index(
                fields=["api_provider"], name="common_util_api_pro_93b5b3_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="utilityprovider",
            index=models.Index(
                fields=["is_active"], name="common_util_is_acti_cb629f_idx"
            ),
        ),
        migrations.AlterUniqueTogether(
            name="utilityprovider",
            unique_together={("provider_code", "api_provider", "cluster")},
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["user_id", "cluster"], name="common_bill_user_id_de260e_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["cluster", "user_id"], name="common_bill_cluster_f916ba_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["bill_number"], name="common_bill_bill_nu_95f4aa_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["due_date"], name="common_bill_due_dat_c4aa42_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(fields=["type"], name="common_bill_type_508be7_idx"),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["due_date", "allow_payment_after_due"],
                name="common_bill_due_dat_62ddc8_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["disputed_at"], name="common_bill_dispute_68ca65_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="bill",
            index=models.Index(
                fields=["paid_at"], name="common_bill_paid_at_a834bb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="visitor",
            index=models.Index(
                fields=["access_code"], name="common_visi_access__1d35aa_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="visitor",
            index=models.Index(
                fields=["invited_by"], name="common_visi_invited_8d8396_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="visitor",
            index=models.Index(fields=["status"], name="common_visi_status_2c2982_idx"),
        ),
        migrations.AddIndex(
            model_name="visitor",
            index=models.Index(
                fields=["valid_date"], name="common_visi_valid_d_25c14a_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="invitation",
            index=models.Index(
                fields=["visitor"], name="common_invi_visitor_b28324_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="invitation",
            index=models.Index(fields=["status"], name="common_invi_status_ac0a5f_idx"),
        ),
        migrations.AddIndex(
            model_name="invitation",
            index=models.Index(
                fields=["start_date"], name="common_invi_start_d_87211b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="invitation",
            index=models.Index(
                fields=["end_date"], name="common_invi_end_dat_2b3c49_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="invitation",
            index=models.Index(
                fields=["recurrence_type"], name="common_invi_recurre_4dc24d_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="visitorlog",
            index=models.Index(
                fields=["visitor"], name="common_visi_visitor_3e59c6_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="visitorlog",
            index=models.Index(fields=["date"], name="common_visi_date_0ccf2f_idx"),
        ),
        migrations.AddIndex(
            model_name="visitorlog",
            index=models.Index(
                fields=["log_type"], name="common_visi_log_typ_5bdc98_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="wallet",
            index=models.Index(
                fields=["user_id", "cluster"], name="common_wall_user_id_c20e28_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="wallet",
            index=models.Index(fields=["status"], name="common_wall_status_b95644_idx"),
        ),
        migrations.AlterUniqueTogether(
            name="wallet",
            unique_together={("user_id", "cluster")},
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["wallet", "created_at"], name="common_tran_wallet__6b54cb_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["transaction_id"], name="common_tran_transac_f2a40f_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["reference"], name="common_tran_referen_ba5217_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(fields=["status"], name="common_tran_status_a6b897_idx"),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(fields=["type"], name="common_tran_type_a2d7df_idx"),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["type", "status"], name="common_tran_type_4f9af4_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["wallet", "type", "status"],
                name="common_tran_wallet__7161a3_idx",
            ),
        ),
        migrations.AddIndex(
            model_name="transaction",
            index=models.Index(
                fields=["created_at", "type"], name="common_tran_created_d4a4f0_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="recurringpayment",
            index=models.Index(
                fields=["user_id", "cluster"], name="common_recu_user_id_a77ca2_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="recurringpayment",
            index=models.Index(fields=["status"], name="common_recu_status_cb55e5_idx"),
        ),
        migrations.AddIndex(
            model_name="recurringpayment",
            index=models.Index(
                fields=["next_payment_date"], name="common_recu_next_pa_e2041b_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="recurringpayment",
            index=models.Index(
                fields=["frequency"], name="common_recu_frequen_177b22_idx"
            ),
        ),
    ]
